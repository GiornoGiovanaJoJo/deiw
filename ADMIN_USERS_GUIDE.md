# Руководство по управлению пользователями для админки /adminka

## Создание администраторов через стандартную админку Django

Для того чтобы пользователи могли входить в кастомную админку `/adminka`, они должны быть созданы через стандартную Django админку `/admin` с правами администратора.

### Шаг 1: Вход в стандартную админку

1. Откройте браузер и перейдите по адресу: **http://localhost:8000/admin/**
2. Войдите с учетными данными суперпользователя:
   - **Username**: admin
   - **Password**: admin123

### Шаг 2: Создание нового пользователя

1. В левом меню найдите раздел **"AUTHENTICATION AND AUTHORIZATION"** (Аутентификация и авторизация)
2. Нажмите на **"Users"** (Пользователи)
3. Нажмите кнопку **"ADD USER +"** в правом верхнем углу
4. Заполните обязательные поля:
   - **Username**: логин пользователя (например: `manager1`)
   - **Password**: пароль (минимум 8 символов)
   - **Password confirmation**: повторите пароль
5. Нажмите **"SAVE"**

### Шаг 3: Настройка прав доступа

После создания пользователя откроется страница редактирования. Настройте следующие параметры:

#### Личная информация:
- **First name**: Имя (например: Иван)
- **Last name**: Фамилия (например: Петров)
- **Email address**: email@example.com

#### Права доступа (Permissions):
**ВАЖНО!** Для доступа к `/adminka` необходимо установить:
- ✅ **Staff status** (Статус персонала) - ОБЯЗАТЕЛЬНО!
- ⚠️ **Superuser status** (Статус суперпользователя) - опционально, только для полного доступа

#### Группы (Groups):
- Можно создать группы с определенными правами и добавить пользователя в группу

### Шаг 4: Сохранение

Нажмите **"SAVE"** внизу страницы.

## Управление существующими пользователями

### Редактирование пользователя:
1. Перейдите в `/admin/auth/user/`
2. Найдите нужного пользователя в списке
3. Нажмите на его имя
4. Внесите изменения
5. Нажмите **"SAVE"**

### Изменение пароля:
1. Откройте страницу редактирования пользователя
2. В разделе "Password" нажмите ссылку **"this form"**
3. Введите новый пароль дважды
4. Нажмите **"CHANGE PASSWORD"**

### Блокировка доступа:
1. Откройте страницу редактирования пользователя
2. Снимите галочку **"Active"** (Активен)
3. Нажмите **"SAVE"**

### Удаление пользователя:
1. Откройте страницу редактирования пользователя
2. Нажмите красную кнопку **"Delete"** внизу слева
3. Подтвердите удаление

## Управление данными админки /adminka

В стандартной админке Django теперь доступны следующие модели для `/adminka`:

### 1. Categories (Категории)
- **Путь**: `/admin/main/category/`
- **Функции**: Создание, редактирование, удаление категорий проектов
- **Поля**: Названия на русском, английском и немецком языках

### 2. Admin Projects (Проекты)
- **Путь**: `/admin/main/adminproject/`
- **Функции**: Полное управление проектами
- **Поля**:
  - Код проекта (уникальный)
  - Название
  - Описание
  - Категория
  - Статус (запланирован, в работе, завершен)
  - Год, тип, размер, цвет
  - Дата окончания

### 3. Contact Requests (Заявки в поддержку)
- **Путь**: `/admin/main/contactrequest/`
- **Функции**: Просмотр и обработка заявок
- **Поля**:
  - Информация о клиенте (имя, email, телефон)
  - Причина обращения
  - Сообщение клиента
  - Статус (новая, в процессе, закрыта)
  - Ответ администратора

## Различия между /admin и /adminka

### Стандартная админка `/admin`:
- ✅ Управление пользователями и правами
- ✅ Управление всеми моделями Django
- ✅ Полный контроль над системой
- ✅ Доступ к логам и истории изменений
- ❌ Простой интерфейс без кастомного дизайна

### Кастомная админка `/adminka`:
- ✅ Красивый современный интерфейс
- ✅ Темная/светлая тема
- ✅ Мультиязычность (RU, EN, DE)
- ✅ Удобная работа с проектами и заявками
- ✅ AJAX операции без перезагрузки
- ✅ Статистика и аналитика
- ❌ Нет управления пользователями (используйте `/admin`)

## Рекомендации

1. **Для создания пользователей** - используйте `/admin`
2. **Для повседневной работы** с проектами и заявками - используйте `/adminka`
3. **Для системного администрирования** - используйте `/admin`

## Требования к паролям

Django требует безопасные пароли:
- Минимум 8 символов
- Не должен быть слишком похож на личную информацию
- Не должен быть полностью числовым
- Не должен быть слишком распространенным

Примеры хороших паролей:
- `MySecure2024!`
- `Admin@Project123`
- `Manager#Pass2026`

## Безопасность

⚠️ **ВАЖНО:**
- Не давайте права **Superuser** всем подряд
- Используйте **Staff status** для обычных администраторов
- Регулярно меняйте пароли
- Удаляйте неактивных пользователей
- Используйте сложные пароли

## Быстрое создание через командную строку

Если нужно быстро создать администратора:

```bash
python manage.py createsuperuser
```

Или для обычного staff пользователя через shell:

```bash
python manage.py shell
```

```python
from django.contrib.auth.models import User

# Создание пользователя
user = User.objects.create_user(
    username='manager1',
    email='manager1@example.com',
    password='SecurePass123!',
    first_name='Иван',
    last_name='Петров'
)

# Даем права staff (доступ к /adminka)
user.is_staff = True
user.save()

print(f"Пользователь {user.username} создан!")
```

## Проверка доступа

После создания пользователя проверьте:
1. Может ли он войти в `/admin` (если is_staff=True)
2. Может ли он войти в `/adminka` (если is_staff=True)
3. Видит ли он нужные разделы

## Поддержка

Если возникли проблемы:
1. Проверьте, что у пользователя установлен **Staff status**
2. Проверьте, что пользователь **Active**
3. Убедитесь, что пароль введен правильно
4. Проверьте email пользователя (используется для входа в `/adminka`)
