{% extends 'adminka/base.html' %}
{% load static %}

{% block title %}{{ project.name }} - Empire Premium{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'adminka/css/pages/project-view.css' %}" />
{% endblock %}

{% block content %}
<main class="dashboard">
    <div class="page-actions" data-aos="fade-up">
        <h1>{{ project.name }}</h1>
        <div class="action-buttons">
            <a href="{% url 'main:adminka_projects' %}" class="btn-secondary">
                <span><i class="fa-solid fa-arrow-left"></i></span>
                <span>Назад к списку</span>
            </a>
            <a href="{% url 'main:adminka_project_edit' project.pk %}" class="btn-primary">
                <span><i class="fa-solid fa-pen-to-square"></i></span>
                <span>Редактировать</span>
            </a>
        </div>
    </div>

    <div class="card project-details" data-aos="fade-up" data-aos-delay="200">
        <div class="project-header">
            <div class="project-code-badge">{{ project.project_code }}</div>
            <div class="project-status status-{{ project.status }}">
                {{ project.get_status_display }}
            </div>
        </div>

        {% if project.description %}
        <div class="project-section">
            <h3>Описание</h3>
            <p>{{ project.description|linebreaks }}</p>
        </div>
        {% endif %}

        <div class="project-section">
            <h3>Детали проекта</h3>
            <div class="details-grid">
                {% if project.category %}
                <div class="detail-item">
                    <span class="detail-label">Категория:</span>
                    <span class="detail-value">{{ project.category.name_de }}</span>
                </div>
                {% endif %}

                {% if project.year %}
                <div class="detail-item">
                    <span class="detail-label">Год:</span>
                    <span class="detail-value">{{ project.year }}</span>
                </div>
                {% endif %}

                {% if project.type %}
                <div class="detail-item">
                    <span class="detail-label">Тип:</span>
                    <span class="detail-value">{{ project.type }}</span>
                </div>
                {% endif %}

                {% if project.size %}
                <div class="detail-item">
                    <span class="detail-label">Размер:</span>
                    <span class="detail-value">{{ project.size }}</span>
                </div>
                {% endif %}

                {% if project.color %}
                <div class="detail-item">
                    <span class="detail-label">Цвет:</span>
                    <span class="detail-value">
                        <span style="display: inline-block; width: 24px; height: 24px; background-color: {{ project.color }}; border-radius: 4px; margin-right: 0.5rem; vertical-align: middle; border: 1px solid rgba(0,0,0,0.1);"></span>
                        {{ project.color }}
                    </span>
                </div>
                {% endif %}

                {% if project.end_date %}
                <div class="detail-item">
                    <span class="detail-label">Дата окончания:</span>
                    <span class="detail-value">{{ project.end_date|date:"d.m.Y" }}</span>
                </div>
                {% endif %}

                <div class="detail-item">
                    <span class="detail-label">Дата создания:</span>
                    <span class="detail-value">{{ project.created_at|date:"d.m.Y H:i" }}</span>
                </div>

                <div class="detail-item">
                    <span class="detail-label">Последнее обновление:</span>
                    <span class="detail-value">{{ project.updated_at|date:"d.m.Y H:i" }}</span>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}
